"use strict";function cn_refresh_cart(){function t(){return document.getElementById("idCart").innerHTML}var e,r={async:!0,crossDomain:!0,url:"/cart/rawcart",method:"GET",headers:{"content-type":"application/x-www-form-urlencoded","cache-control":"no-cache"}};e=function(e){function r(t){return void 0!==t}var n=PCC.desconnectif,a="http://img.pccomponentes.com/",i=n.utils.getBaseUrl();if(r(e)){var c={cartId:t(),totalQuantity:e.totalQty,totalPrice:e.totalPrice.toFixed(2),products:function(){var t=[];return r(e.articles)&&"function"==typeof e.articles.map&&e.articles.map(function(e){var r=e.availabilityCode<4?"inStock":"outOfStock",n=Number(e.unitPrice).toFixed(2),c=parseFloat(e.totalPrice).toFixed(2),o=i+"/"+e.slug,u=a+e.articleImage,l=""===e.name?e.slug:e.name;t.push({productId:e.idArticle.toString(),quantity:Number(e.qty),price:c,productDetailUrl:o,name:l,imageUrl:u,unitPrice:n,availability:r,brand:e.trademark})}),t}()};n.setEvents([]),n.setCart(c),function(t){var e=!1;try{e=r(t.entityInfo)&&r(t.entityinfo)}catch(t){}return e}(n.getRequest())&&n.sendRequest()}},$.ajax(r).done(e)}$(document).on("cartModified",function(){cn_refresh_cart()});
